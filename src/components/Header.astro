---
import Logo from "./Logo.astro";
---

<header class="bg-white shadow">
  <div
    class="mx-auto flex flex-col gap-4 max-w-4xl items-center justify-between px-4 py-4 md:flex-row"
  >
    <div class="flex justify-between w-full md:w-auto">
      <!-- Logo -->
      <Logo />
      <!-- Hamburger (mobile) -->
      <button
        class="block text-gray-700 md:hidden cursor-pointer"
        id="mobile-menu-toggle"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Nav (desktop) -->
    <nav class="hidden space-x-8 text-sm font-semibold md:flex" id="mobile-nav">
      <a href="/top-channels" class="text-gray-700 hover:text-red-600"
        >Top Channels</a
      >
      <a href="/blog" class="text-gray-700 hover:text-red-600">Blogs</a>
    </nav>

    <!-- Search Box (always visible) -->
    <form action="/" method="GET" class="relative w-full md:block md:w-64">
      <input
        type="text"
        name="channel"
        placeholder="Search..."
        class="w-full rounded border border-gray-400 px-3 py-2 pr-10 text-sm hover:shadow-md focus:ring-1 focus:ring-red-500 focus:outline-none"
      />
      <button
        type="submit"
        class="absolute inset-y-0 right-0 flex items-center justify-center px-3 cursor-pointer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4 text-red-600"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"
          ></path>
        </svg>
      </button>
    </form>
  </div>
</header>

<!-- JS for toggle -->
<script is:client>
  document.addEventListener("DOMContentLoaded", function () {
    const toggleBtn = document.getElementById("mobile-menu-toggle");
    const navMenu = document.getElementById("mobile-nav");

    toggleBtn.addEventListener("click", () => {
      navMenu.classList.toggle("hidden");
      navMenu.classList.toggle("flex");
    });
  });
</script>
